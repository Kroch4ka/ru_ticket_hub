c
ticket.profile
ticket.profile.id
profile.id
ticket.operator.profile
ticket.operator
profile.id
c
e.message
c
ticket.operator.profile
ticket.operator.id
ticket.operator
e.message
c
ticket.operator
operator
c
ticket.operator.profile
ticket.operator
ticket.profile.id
ticket.id
c
profile.id
context.id
e.message
context
c
e.message
c
ticket.status
profile.customer?
profile.operator?
context.id
ticket
profile
e.message
c
ticket.reply_to_authro
ticket.messages
c
ticket.messages.first
c
ticket.messages.first
ticket.messages
ticket
c
ticket
ticket.messages
c
ticket.messages
c
profile.customer?
profile.operator?
profile
c
ticket.messages.create!(body: context.body, profile_id: context.profile_id)
c
ticket.needs_reply?
c
ticket
c
ticket.save!
ticket.errors.full_messages
ticket.save
Profile.all.last
Profile.all
c
ticket.errors.full_messages
ticket.errors
ticket.save
c
current_account.profile
current_account
c
env
c
response.body
response
c
body
c
client_ip
request_ip
c
request.ip
request.id
exit
ticket
ticket.operator
exit
ticket.company.valid?
ticket.company
ticket.valid?
ticket.company
ticket.update!(operator_id: operator.id)
ticket.company.valid?
ticket.company
ticket.valid?
ticket.validate
c
ticket
c
ticket.operator
ticket
c
ticket.company.valid?
ticket.valid?
ticket.company
ticket
exit
ticket.errors
ticket.valid?
operator.valid?
operator
ticket.update!(operator:)
ticket.company
ticket
c
ticket.reload
ticket
c
replier.type == "Operator"
c
replier.type
c
replier
c
replier
c
replier
c
replier
c
ticket.may_reply?(ticket.customer)
ticket.may_reply?
c
ticket.reply!(ticket.customer)
ticket.reply!("ex")
ticket.reply!
ticket.aasm_state
ticket.state
ticket
c
record
self
